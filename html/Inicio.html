<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Firmas Digitales FD</title>
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <!-- Hojas de estilo -->
    <link rel="stylesheet" href="/css/mainStyle.css" />
    <link rel="stylesheet" href="/css/footerStyle.css" />
    <link rel="stylesheet" href="/css/authModal.css" />
    <link rel="stylesheet" href="/css/userKeysModal.css" />
    <link rel="stylesheet" href="/css/noKeysmodal.css" />
    <link rel="stylesheet" href="/css/profileMenu.css" />
    <link rel="stylesheet" href="/css/tutorial.css" />

    <link rel="stylesheet" href="/css/sections/inicioSection.css" />
    <link rel="stylesheet" href="/css/sections/firmarSection.css" />
    <link rel="stylesheet" href="/css/sections/verificarSection.css" />
    <link rel="stylesheet" href="/css/sections/contactoSection.css" />
    <link rel="stylesheet" href="/css/sections/perfilSection.css" />
    <link rel="stylesheet" href="/css/sections/opcionesSection.css" />

    <link rel="stylesheet" href="/css/Header/headerStyle.css" />
    <link rel="stylesheet" href="/css/Header/hHamburguer_new.css" />

    <script src="/scripts/frontend/theme.js"></script>
  </head>
  <body style="visibility: hidden">
    <!-- Header con menú de autenticación -->
    <header>
      <div class="header-left">
        <a href="#inicio" class="logo-link">
          <img
            src="../recursos/logotipo-de-github.png"
            alt="Logo"
            class="logo-img"
          />
          <span id="tituloWeb">Firmas Digitales FD</span>
        </a>
      </div>
      <!-- Navegación movida al menú hamburguesa -->
      <div class="header-right">
        <ul id="authMenu">
          <li id="loginBtnLi"><a href="#" id="loginBtn">Iniciar Sesión</a></li>
          <li id="registerBtnLi">
            <a href="#" id="registerBtn">Registrarse</a>
          </li>
          <!-- Botón hamburguesa moderno -->
          <button
            id="headerMenuBtn"
            class="header-menu-btn"
            aria-label="Abrir menú de navegación"
            aria-expanded="false"
          >
            <span></span>
            <span></span>
            <span></span>
          </button>
        </ul>
      </div>
    </header>
    <!-- Menú móvil -->
    <nav id="headerMobileMenu" class="header-mobile-menu" aria-hidden="true">
      <ul id="mobileMenuList"></ul>
    </nav>
    <!-- Botón de ayuda flotante -->
    <button id="showTutorialBtn" title="Ver tutorial de uso">?</button>

    <!-- Modal de Tutorial de Uso -->
    <div id="tutorialModal" class="tutorial-modal">
      <div class="tutorial-modal-content">
        <h2>🎯 Guía de Prueba: Sistema de Firmas Digitales</h2>
        <div class="tutorial-intro">
          <p>
            <strong>¡Bienvenido al entorno de prueba!</strong> Sigue estos pasos
            para probar todas las funcionalidades del sistema:
          </p>
          <p>
            <strong>🔐 Seguridad garantizada:</strong> Todos los datos, archivos
            y llaves están protegidos con cifrado militar AES-256. Tu
            información está completamente segura.
          </p>
        </div>
        <ol>
          <li>
            <b>📝 Paso 1: Regístrate en el sistema</b>
            <div>
              Crea tu cuenta de usuario haciendo clic en "Iniciar Sesión" →
              "Regístrate aquí". Usa tus datos reales para la encuesta:
              <em
                >Nombre: Tu nombre y apellido completo, Usuario:
                tu_usuario_preferido</em
              >
              <br /><strong>📋 Importante:</strong> Usa tu nombre real para
              identificar quién realizó la prueba y evaluación del sistema.
            </div>
          </li>
          <li>
            <b>🔐 Paso 2: Genera tu primera llave digital</b>
            <div>
              Ve a la sección <strong>"Perfil"</strong> y genera tus llaves
              criptográficas. Usa una contraseña simple para prueba como
              <em>"1234"</em>. Tu primera llave se seleccionará automáticamente.
              <br /><strong>🛡️ Seguridad:</strong> Todos los datos y archivos
              subidos están cifrados y protegidos. Tu información está segura en
              el sistema.
            </div>
          </li>
          <li>
            <b>✏️ Paso 3: Firma un documento de prueba</b>
            <div>
              Ve a <strong>"Firmar"</strong> y sube cualquier archivo PDF de
              prueba. El sistema generará un documento firmado y avalado que
              podrás descargar.
            </div>
          </li>
          <li>
            <b>🔍 Paso 4: Verifica tu propia firma</b>
            <div>
              Ve a <strong>"Verificar"</strong>, selecciona tu nombre como
              profesor, sube el PDF original y el firmado que acabas de crear.
              ¡Verifica que tu propia firma es válida!
            </div>
          </li>
          <li>
            <b>✅ Paso 5: Valida el resultado</b>
            <div>
              El sistema te mostrará si la firma es válida, quién la hizo y
              cuándo. Esto demuestra la autenticidad e integridad del documento.
            </div>
          </li>
          <li>
            <b>⚙️ Paso 6: Explora funciones adicionales</b>
            <div>
              Prueba crear múltiples llaves, cambiar tipos de cifrado, verificar
              documentos de otros usuarios, y gestionar tus llaves desde el
              perfil.
            </div>
          </li>
        </ol>
        <div class="tutorial-footer">
          <p>
            <strong>💡 Consejo:</strong> Este es un entorno de prueba seguro con
            cifrado avanzado. Experimenta libremente - todos tus datos están
            protegidos criptográficamente. <br /><strong>🔑 Privacidad:</strong>
            El sistema usa cifrado AES-256 para proteger archivos y llaves. Tus
            documentos y datos personales están completamente seguros.
          </p>
        </div>
        <button id="closeTutorialBtn" class="close-tutorial-btn">
          ¡Empezar a probar!
        </button>
      </div>
    </div>

    <!-- Modales de Autenticación -->
    <div id="loginModal" class="auth-modal">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Iniciar Sesión</h2>
        <form id="loginForm">
          <input type="text" id="loginUsuario" placeholder="Usuario" required />
          <input
            type="password"
            id="loginPassword"
            placeholder="Contraseña"
            required
          />
          <button type="submit">Ingresar</button>
        </form>
        <p id="loginError" class="error-message"></p>
        <p>
          ¿No tienes cuenta?
          <a href="#" id="showRegister">Regístrate aquí</a>
        </p>
      </div>
    </div>

    <div id="registerModal" class="auth-modal">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Registrarse</h2>
        <form id="registerForm">
          <input
            type="text"
            id="registerNombre"
            placeholder="Nombre completo"
            required
          />
          <input
            type="text"
            id="registerUsuario"
            placeholder="Usuario"
            required
          />
          <input
            type="password"
            id="registerPassword"
            placeholder="Contraseña"
            required
          />
          <button type="submit">Crear cuenta</button>
        </form>
        <p id="registerError" class="error-message"></p>
        <p>¿Ya tienes cuenta? <a href="#" id="showLogin">Inicia sesión</a></p>
      </div>
    </div>

    <!-- Modal para seleccionar otra llave -->
    <div id="keySelectModal" class="modal" style="display: none">
      <div class="modal-content">
        <span id="closeKeySelectModal" class="close">&times;</span>
        <h3>Selecciona una llave para verificar</h3>
        <ul id="userKeysList"></ul>
        <div id="keyConfirmSection" style="display: none; margin-top: 16px">
          <p id="keyConfirmText"></p>
          <button id="confirmKeyBtn">Sí, usar esta llave</button>
          <button id="cancelKeyBtn">Cancelar</button>
        </div>
      </div>
    </div>

    <!-- Modal para contraseña de llave privada -->
    <div id="keyPasswordModal" class="auth-modal" style="display: none">
      <div class="modal-content">
        <span class="close-modal" id="closeKeyPasswordModal">&times;</span>
        <h2>Contraseña de la llave privada</h2>
        <form id="keyPasswordForm">
          <input
            type="password"
            id="keyPasswordInput"
            placeholder="Contraseña de la llave privada"
            required
            minlength="4"
          />
          <button type="submit" id="keyPasswordSubmitBtn">Aceptar</button>
        </form>
        <p id="keyPasswordError" style="color: red; display: none"></p>
      </div>
    </div>

    <!-- Modal para guiar creación de llaves -->
    <div id="createKeysGuideModal" class="auth-modal" style="display: none">
      <div class="modal-content">
        <h2>¡Bienvenido!</h2>
        <div class="modal-icon">🔐</div>
        <p class="modal-description">
          <strong
            >Para comenzar a usar el sistema de firmas digitales, necesitas
            crear tus llaves criptográficas.</strong
          >
        </p>
        <p class="modal-subdescription">
          Las llaves son necesarias para firmar y verificar documentos de forma
          segura.
        </p>
        <div class="modal-buttons">
          <button id="goToCreateKeysBtn">Ir a crear llaves</button>
          <button id="skipCreateKeysBtn">Recordar más tarde</button>
        </div>
      </div>
    </div>

    <main class="content" role="main">
      <section id="inicioSection">
        <!-- Hero Section Principal -->
        <div class="hero-section">
          <div class="hero-content">
            <div class="hero-badge">
              <span class="badge-icon">●</span>
              <span class="badge-text"
                >Certificación Digital de Investigación</span
              >
            </div>
            <h1 class="hero-title">
              Firmas Digitales
              <span class="hero-highlight">Seguras y Confiables</span>
            </h1>
            <p class="hero-description">
              Plataforma profesional para la autenticación criptográfica de
              documentos de investigación. Protege la integridad de trabajos de
              investigación, proyectos científicos y documentos profesionales
              con tecnología de cifrado militar.
            </p>
            <div class="hero-buttons">
              <button
                class="hero-btn primary"
                onclick="handleSignDocumentClick()"
              >
                <span class="btn-icon">✏️</span>
                Firmar Documento
              </button>
              <button
                class="hero-btn secondary"
                onclick="window.location.hash='verificar'"
              >
                <span class="btn-icon">🔍</span>
                Verificar Aval
              </button>
            </div>
            <div class="hero-stats">
              <div class="stat-item">
                <span class="stat-number">256-bit</span>
                <span class="stat-label">Cifrado AES</span>
              </div>
              <div class="stat-divider"></div>
              <div class="stat-item">
                <span class="stat-number">100%</span>
                <span class="stat-label">Seguro</span>
              </div>
              <div class="stat-divider"></div>
              <div class="stat-item">
                <span class="stat-number">RSA</span>
                <span class="stat-label">4096-bit</span>
              </div>
            </div>
          </div>
          <div class="hero-visual">
            <div class="floating-card">
              <div class="card-header">
                <span class="card-dot green"></span>
                <span class="card-dot yellow"></span>
                <span class="card-dot red"></span>
                <span class="card-title">documento_firmado.pdf</span>
              </div>
              <div class="card-content">
                <div class="signature-line">
                  <span class="sig-icon">📋</span>
                  <span class="sig-text">Documento Original</span>
                  <span class="sig-status verified">✓</span>
                </div>
                <div class="signature-line">
                  <span class="sig-icon">🔐</span>
                  <span class="sig-text">Firma Digital</span>
                  <span class="sig-status verified">✓</span>
                </div>
                <div class="signature-line">
                  <span class="sig-icon">🛡️</span>
                  <span class="sig-text">Cifrado AES-256</span>
                  <span class="sig-status verified">✓</span>
                </div>
                <div class="signature-line">
                  <span class="sig-icon"></span>
                  <span class="sig-text">Verificación</span>
                  <span class="sig-status processing">⏳</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Separador visual -->
        <div class="section-separator">
          <div class="separator-line"></div>
          <div class="separator-icon">◆</div>
          <div class="separator-line"></div>
        </div>

        <!-- Features Section -->
        <div class="features-section">
          <div class="section-header">
            <h2 class="section-title">¿Por qué elegir nuestro sistema?</h2>
            <p class="section-subtitle">
              Tecnología de vanguardia para la protección de documentos de
              investigación y trabajos científicos
            </p>
          </div>
          <div class="features-grid">
            <div class="feature-card">
              <div class="feature-icon-container">
                <span class="feature-icon">🔒</span>
                <div class="feature-icon-bg"></div>
              </div>
              <h3 class="feature-title">Máxima Seguridad</h3>
              <p class="feature-description">
                Cifrado militar AES-256 y llaves RSA de 4096 bits. Tus
                documentos están protegidos con la misma tecnología que usan
                bancos y gobiernos.
              </p>
              <div class="feature-tech">
                <span class="tech-badge">AES-256</span>
                <span class="tech-badge">RSA-4096</span>
              </div>
            </div>

            <div class="feature-card">
              <div class="feature-icon-container">
                <span class="feature-icon">🔍</span>
                <div class="feature-icon-bg"></div>
              </div>
              <h3 class="feature-title">Verificación Instantánea</h3>
              <p class="feature-description">
                Valida la autenticidad de cualquier documento en segundos.
                Detecta alteraciones y confirma la identidad del firmante de
                forma automática.
              </p>
              <div class="feature-tech">
                <span class="tech-badge">Tiempo Real</span>
                <span class="tech-badge">Automático</span>
              </div>
            </div>

            <div class="feature-card">
              <div class="feature-icon-container">
                <span class="feature-icon">🔬</span>
                <div class="feature-icon-bg"></div>
              </div>
              <h3 class="feature-title">Enfoque Investigativo</h3>
              <p class="feature-description">
                Diseñado para la comunidad científica e investigativa. Protege
                trabajos de investigación, estudios, papers, tesis y documentos
                de investigación profesional.
              </p>
              <div class="feature-tech">
                <span class="tech-badge">Investigativo</span>
                <span class="tech-badge">Científico</span>
              </div>
            </div>

            <div class="feature-card">
              <div class="feature-icon-container">
                <span class="feature-icon">⚖️</span>
                <div class="feature-icon-bg"></div>
              </div>
              <h3 class="feature-title">Validez Legal</h3>
              <p class="feature-description">
                Firmas digitales con validez jurídica completa. Cumple con
                estándares internacionales y normativas de autenticación
                digital.
              </p>
              <div class="feature-tech">
                <span class="tech-badge">Legal</span>
                <span class="tech-badge">Internacional</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Separador visual -->
        <div class="section-separator">
          <div class="separator-line"></div>
          <div class="separator-icon">▲</div>
          <div class="separator-line"></div>
        </div>

        <!-- Process Section -->
        <div class="process-section">
          <div class="section-header">
            <h2 class="section-title">Proceso Simple y Seguro</h2>
            <p class="section-subtitle">
              En solo 3 pasos, protege tus documentos con tecnología de
              vanguardia
            </p>
          </div>
          <div class="process-steps">
            <div class="process-step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h3 class="step-title">Genera tus Llaves</h3>
                <p class="step-description">
                  Crea tu par de llaves criptográficas únicas. Una llave privada
                  (solo tuya) y una pública para verificación.
                </p>
              </div>
            </div>

            <div class="process-arrow">
              <svg width="60" height="20" viewBox="0 0 60 20">
                <path
                  d="M5 10 L50 10 M45 5 L50 10 L45 15"
                  stroke="var(--primary-color)"
                  stroke-width="2"
                  fill="none"
                  stroke-linecap="round"
                />
              </svg>
            </div>

            <div class="process-step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h3 class="step-title">Firma el Documento</h3>
                <p class="step-description">
                  Sube tu PDF y aplica tu firma digital. El sistema genera un
                  hash único y lo cifra con tu llave privada.
                </p>
              </div>
            </div>

            <div class="process-arrow">
              <svg width="60" height="20" viewBox="0 0 60 20">
                <path
                  d="M5 10 L50 10 M45 5 L50 10 L45 15"
                  stroke="var(--primary-color)"
                  stroke-width="2"
                  fill="none"
                  stroke-linecap="round"
                />
              </svg>
            </div>

            <div class="process-step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h3 class="step-title">Verifica y Avala</h3>
                <p class="step-description">
                  Cualquiera puede verificar la autenticidad usando tu llave
                  pública. El documento queda avalado y protegido contra
                  alteraciones.
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- CTA Section -->
        <div class="cta-section">
          <div class="cta-content">
            <h2 class="cta-title">¿Listo para proteger tus documentos?</h2>
            <p class="cta-description">
              Únete a la nueva era de la certificación digital de investigación.
              Comienza a usar firmas digitales profesionales hoy mismo.
            </p>
            <div class="cta-buttons">
              <button
                class="cta-btn primary"
                onclick="handleSignDocumentClick()"
              >
                <span class="btn-icon">✏️</span>
                Firmar Documento
              </button>
              <button
                class="cta-btn secondary"
                onclick="handleCreateKeysClick()"
              >
                <span class="btn-icon">🔐</span>
                Crear Llaves
              </button>
            </div>
          </div>
        </div>
      </section>

      <section id="firmarSection">
        <h2>Firmar Documento</h2>
        <p class="section-desc">
          Sube tu archivo PDF para firmarlo digitalmente y obtener un aval que
          garantiza su autenticidad e integridad.
        </p>
        <div id="signStepIndicator" class="step-indicator">
          <div class="step active" data-step="1" data-label="Seleccionar"></div>
          <div class="step" data-step="2" data-label="Firmar"></div>
          <div class="step" data-step="3" data-label="Descargar"></div>
        </div>

        <div id="signStep1" class="step-content">
          <!-- Firmar -->
          <form id="signForm">
            <p class="input-title">Selecciona el documento PDF a firmar:</p>
            <div class="file-input-container">
              <div class="file-input-wrapper">
                <input
                  type="file"
                  id="fileInput"
                  class="file-input"
                  accept=".pdf"
                  aria-label="Seleccionar archivo PDF"
                  required
                />
                <label for="fileInput" class="file-input-label">
                  <span class="file-input-icon">📄</span>
                  <span class="file-input-text"
                    >Ningún archivo seleccionado</span
                  >
                  <span class="file-input-button">Elegir archivo</span>
                </label>
              </div>
            </div>
            <button type="button" id="acceptDocumentBtn">
              Aceptar documento
            </button>
          </form>
        </div>

        <!-- Paso 2: Firmar -->
        <div id="signStep2" class="step-content" style="display: none">
          <div class="key-selection-container">
            <h3>Selecciona la llave para firmar:</h3>
            <div id="keysList" class="keys-list">
              <div class="loading-keys">
                <span class="small-loader"></span>
                <span>Cargando llaves...</span>
              </div>
            </div>
          </div>
          <div class="loader-container">
            <button id="signDocumentButton" style="display: none">
              Firmar documento
            </button>
            <div id="signLoading" style="display: none">
              <span class="loader"></span>
              <div class="loader-text">Firmando documento...</div>
            </div>
          </div>
        </div>

        <div id="signStep3" class="step-content" style="display: none">
          <p>Documento firmado correctamente</p>
          <div class="success-buttons-container">
            <button id="downloadSignedBtn">Descargar documento avalado</button>
            <button id="goToVerifyBtn" class="btn-secondary">
              Verificar este documento
            </button>
          </div>
          <button id="restartSignProcessBtn" style="display: none">
            Volver a empezar
          </button>
        </div>
      </section>

      <!-- Sección de Verificar con diseño moderno -->
      <section id="verifySection">
        <h2>Verificar Aval</h2>
        <p class="section-desc">
          Verifica la autenticidad y la integridad de un documento PDF avalado
          digitalmente por un profesor o tutor.
        </p>

        <!-- Indicador de pasos moderno -->
        <div id="verifyStepIndicator" class="step-indicator">
          <div class="step active" data-step="1" data-label="Profesor"></div>
          <div class="step" data-step="2" data-label="Aval firmado"></div>
          <div class="step" data-step="3" data-label="Original"></div>
          <div class="step" data-step="4" data-label="Resultado"></div>
        </div>

        <!-- Paso 1: Selección de profesor -->
        <div id="verifyStep1" class="step-content">
          <div class="input-title">Selecciona el profesor o tutor</div>
          <form id="verifyProfesorForm">
            <!-- Sistema de búsqueda y filtrado de profesores -->
            <div class="professor-search-container">
              <div class="search-controls">
                <div class="search-input-wrapper">
                  <input
                    type="text"
                    id="professorSearchInput"
                    placeholder="Buscar profesor por nombre..."
                    class="search-input"
                  />
                  <span class="search-icon">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <circle
                        cx="11"
                        cy="11"
                        r="8"
                        stroke="#9CA3AF"
                        stroke-width="2"
                      />
                      <path
                        d="m21 21-4.35-4.35"
                        stroke="#9CA3AF"
                        stroke-width="2"
                        stroke-linecap="round"
                      />
                    </svg>
                  </span>
                </div>
                <div class="filter-controls">
                  <select id="sortOrder" class="sort-select">
                    <option value="asc">A-Z</option>
                    <option value="desc">Z-A</option>
                  </select>
                  <button
                    type="button"
                    id="clearSearch"
                    class="clear-btn"
                    title="Limpiar búsqueda"
                  >
                    ×
                  </button>
                </div>
              </div>

              <!-- Lista de profesores -->
              <div class="professors-list" id="professorsList">
                <div class="loading-professors">
                  <span class="loader-small"></span>
                  <span>Cargando profesores...</span>
                </div>
              </div>

              <!-- Profesor seleccionado -->
              <div
                class="selected-professor"
                id="selectedProfessor"
                style="display: none"
              >
                <div class="selected-label">Profesor seleccionado:</div>
                <div class="selected-info">
                  <span class="selected-name" id="selectedProfessorName"></span>
                  <button
                    type="button"
                    id="changeProfessor"
                    class="change-btn-circular"
                    title="Cambiar profesor"
                  >
                    <img src="recursos/cambiar.png" alt="Cambiar" />
                  </button>
                </div>
              </div>
            </div>

            <button
              type="button"
              id="acceptProfesorBtn"
              class="btn-primary"
              disabled
            >
              Continuar
            </button>
          </form>
        </div>

        <!-- Paso 2: Selección de archivo avalado -->
        <div id="verifyStep2" class="step-content" style="display: none">
          <div class="input-title">
            Selecciona el archivo avalado (PDF firmado)
          </div>
          <form id="verifyAvalForm">
            <div class="file-input-container">
              <div class="file-input-wrapper">
                <input
                  type="file"
                  id="signedFile"
                  accept=".pdf"
                  class="file-input"
                  aria-label="Seleccionar archivo PDF firmado"
                  required
                />
                <label for="signedFile" class="file-input-label">
                  <span class="file-input-icon">📄</span>
                  <span class="file-input-text"
                    >Ningún archivo seleccionado</span
                  >
                  <span class="file-input-button">Elegir archivo</span>
                </label>
              </div>
            </div>
            <button type="button" id="acceptAvalBtn" class="btn-primary">
              Continuar
            </button>
          </form>
        </div>

        <!-- Paso 3: Selección de archivo original -->
        <div id="verifyStep3" class="step-content" style="display: none">
          <div class="input-title">Selecciona el archivo original (PDF)</div>
          <form id="verifyOriginalForm">
            <div class="file-input-container">
              <div class="file-input-wrapper">
                <input
                  type="file"
                  id="originalFile"
                  accept=".pdf"
                  class="file-input"
                  aria-label="Seleccionar archivo PDF original"
                  required
                />
                <label for="originalFile" class="file-input-label">
                  <span class="file-input-icon">📄</span>
                  <span class="file-input-text"
                    >Ningún archivo seleccionado</span
                  >
                  <span class="file-input-button">Elegir archivo</span>
                </label>
              </div>
            </div>
            <button type="button" id="acceptOriginalBtn" class="btn-success">
              Verificar documento
            </button>
          </form>
        </div>

        <!-- Paso 4: Resultado de verificación -->
        <div id="verifyStep4" class="step-content" style="display: none">
          <div id="verificationResult"></div>
          <div
            style="
              margin-top: 20px;
              display: flex;
              gap: 12px;
              justify-content: center;
              flex-wrap: wrap;
            "
          >
            <button
              id="continueVerifyBtn"
              class="btn-primary"
              style="display: none"
            >
              Verificar otro documento
            </button>
            <button id="retryKeyBtn" class="btn-warning" style="display: none">
              Intentar con otro profesor
            </button>
            <button
              id="restartVerifyProcessBtn"
              class="btn-secondary"
              style="display: none"
            >
              Volver a empezar
            </button>
          </div>
        </div>
      </section>

      <section id="perfilSection">
        <h2>Perfil</h2>
        <p class="section-desc">
          Bienvenido a tu perfil. Aquí puedes gestionar tus llaves digitales y
          personalizar tu cuenta de usuario.
        </p>
        <div class="perfil-panel">
          <aside class="perfil-menu">
            <ul>
              <li class="perfil-tab active" data-tab="cifrado">
                Configuración de cifrado
              </li>
              <li class="perfil-tab" data-tab="llaves">Lista de llaves</li>
            </ul>
          </aside>
          <div class="perfil-content">
            <!-- Tab: Configuración de cifrado -->
            <div class="perfil-tab-content active" id="perfilTab-cifrado">
              <div id="encryptionConfigContainer">
                <h3>
                  <span class="icon-lock"></span> Configuración de cifrado de
                  llaves
                </h3>
                <p>
                  Selecciona el tipo de cifrado para proteger tus llaves
                  privadas. <br />
                  <span class="info"
                    >Recomendamos <b>AES-256-CBC</b> para máxima
                    seguridad.</span
                  >
                </p>
                <div class="encryption-select-group">
                  <label for="encryptionTypeSelect" class="encryption-label"
                    >Tipo de cifrado:</label
                  >
                  <select id="encryptionTypeSelect" class="encryption-select">
                    <option value="aes-256-cbc">
                      AES-256-CBC (Recomendado)
                    </option>
                    <option value="aes-192-cbc">AES-192-CBC</option>
                    <option value="aes-128-cbc">AES-128-CBC</option>
                  </select>
                  <button id="confirmEncryptionTypeBtn" class="btn-primary">
                    Guardar
                  </button>
                </div>
                <p id="encryptionTypeMsg" class="encryption-msg">
                  <!-- Mensaje dinámico -->
                </p>
              </div>
            </div>
            <!-- Tab: Lista de llaves -->
            <div class="perfil-tab-content" id="perfilTab-llaves">
              <div id="keysListContainer">
                <h3><span class="icon-key"></span> Tus llaves digitales</h3>
                <p class="info">
                  Aquí puedes ver, generar o eliminar tus llaves. Mantén tu
                  llave privada segura.
                </p>

                <!-- Campo para nombrar la nueva llave -->
                <div class="key-name-form">
                  <label for="keyNameInput"> Nombre de la nueva llave: </label>
                  <input
                    type="text"
                    id="keyNameInput"
                    placeholder="Ej: Llave para tesis, Llave personal... (opcional)"
                  />
                  <small class="help-text">
                    Si se deja vacío, se asignará automáticamente (Key1, Key2,
                    etc.)
                  </small>
                </div>

                <button id="generateKeysButton" class="btn-secondary">
                  <span class="icon-plus">
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 -4 20 20"
                      fill="white"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <rect
                        x="9"
                        y="4"
                        width="2"
                        height="14"
                        rx="1"
                        fill="white"
                      />
                      <rect
                        x="3"
                        y="9"
                        width="14"
                        height="2"
                        rx="1"
                        fill="white"
                      />
                    </svg>
                  </span>
                  Generar nueva llave
                </button>
                <ul id="profileKeysList" class="keys-list">
                  <!-- Las llaves del usuario se cargarán aquí dinámicamente -->
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="contactoSection">
        <h2>Contacto</h2>
        <p class="section-desc">
          Si tienes preguntas o necesitas ayuda, contáctanos.
        </p>
        <form id="contactForm">
          <label for="name">Nombre:</label>
          <input type="text" id="name" name="name" required />

          <label for="email">Correo Electrónico:</label>
          <input type="email" id="email" name="email" required />

          <label for="message">Mensaje:</label>
          <textarea id="message" name="message" required></textarea>

          <button type="submit">Enviar</button>
        </form>
        <p
          id="contactMessage"
          style="display: none; color: green; margin: 25px"
        >
          Mensaje enviado correctamente. Nos pondremos en contacto contigo
          pronto.
        </p>
      </section>

      <section id="opcionesSection">
        <h2>Opciones de Personalización</h2>
        <form id="configForm">
          <!-- Cambiar logo -->
          <label for="logoUpload">Subir Logo:</label>
          <div class="input-inline">
            <div style="width: 100%; max-width: 350px">
              <label class="file">
                <input
                  type="file"
                  id="logoUpload"
                  name="logoUpload"
                  accept="image/*"
                  class="custom-file-input"
                  aria-label="Subir logo"
                />
                <span class="file-custom">Ningún archivo seleccionado</span>
              </label>
              <button type="button" id="removeLogoBtn" title="Quitar logo">
                X
              </button>
            </div>
          </div>
          <img
            id="logoPreview"
            style="display: none; max-height: 100px; margin-top: 10px"
          />

          <!-- Cambiar fondo del contenido -->
          <label for="contentBgFile">Fondo del contenido (imagen):</label>
          <div class="input-inline">
            <div style="width: 100%; max-width: 350px">
              <label class="file">
                <input
                  type="file"
                  id="contentBgFile"
                  accept="image/*"
                  class="custom-file-input"
                  aria-label="Subir fondo"
                />
                <span class="file-custom">Ningún archivo seleccionado</span>
              </label>
              <button
                type="button"
                id="removeContentBgBtn"
                title="Quitar fondo"
              >
                X
              </button>
            </div>
          </div>

          <!-- Cambiar título de la página -->
          <label for="pageTitle">Título de la Página:</label>
          <input
            type="text"
            id="pageTitle"
            name="title"
            placeholder="Nuevo título"
          />

          <!-- Cambiar colores -->
          <label for="primaryColor">Color Primario:</label>
          <input
            type="color"
            id="primaryColor"
            name="primaryColor"
            value="#ed700f"
          />

          <label for="secondaryColor">Color Secundario:</label>
          <input
            type="color"
            id="secondaryColor"
            name="secondaryColor"
            value="#333333"
          />

          <!-- Cambiar footer -->
          <label for="footerText">Texto del Footer:</label>
          <input
            type="text"
            id="footerText"
            name="footer"
            placeholder="Nuevo texto del footer"
          />

          <button type="submit">Guardar Cambios</button>
        </form>
      </section>
    </main>

    <!-- Modal de confirmación para navegación -->
    <div id="navigationConfirmModal" class="navigation-confirm-modal">
      <div class="navigation-confirm-content">
        <span class="navigation-confirm-icon">⚠️</span>
        <h3 class="navigation-confirm-title">¿Estás seguro?</h3>
        <p class="navigation-confirm-message">
          Tienes un proceso en curso. Si continúas, perderás todos los cambios
          no guardados.
        </p>
        <div class="navigation-confirm-buttons">
          <button
            id="confirmNavigationBtn"
            class="navigation-confirm-btn primary"
          >
            Sí, continuar
          </button>
          <button
            id="cancelNavigationBtn"
            class="navigation-confirm-btn secondary"
          >
            Cancelar
          </button>
        </div>
      </div>
    </div>

    <footer class="fixed_footer">
      <p>&copy; 2025 Firmas Digitales FD. Todos los derechos reservados.</p>
    </footer>

    <!-- Scripts de frontend -->
    <script src="/scripts/frontend/auth.frontend.js"></script>
    <script src="/scripts/frontend/keys.frontend.js"></script>
    <script src="/scripts/frontend/config.js"></script>
    <script src="/scripts/frontend/userKeysModal.js"></script>
    <script src="/scripts/frontend/keyPassword.frontend.js"></script>
    <script src="/scripts/frontend/signSteps.js"></script>
    <script src="/scripts/frontend/verifySteps.js"></script>
    <script src="/scripts/frontend/frontend.js" type="module"></script>
    <script src="/scripts/frontend/profileEncryption.frontend.js"></script>
    <!-- <script src="/scripts/frontend/headerResponsive.frontend.js"></script> -->
    <script src="/scripts/frontend/mobileHamburger.frontend.js"></script>
    <script src="/scripts/utils/tutorial.js"></script>
  </body>
</html>
