<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Firmas Digitales FD</title>
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <!-- Hojas de estilo -->
    <link rel="stylesheet" href="/css/mainStyle.css" />
    <link rel="stylesheet" href="/css/footerStyle.css" />
    <link rel="stylesheet" href="/css/authModal.css" />
    <link rel="stylesheet" href="/css/userKeysModal.css" />
    <link rel="stylesheet" href="/css/noKeysmodal.css" />
    <link rel="stylesheet" href="/css/profileMenu.css" />
    <link rel="stylesheet" href="/css/tutorial.css" />

    <link rel="stylesheet" href="/css/sections/inicioSection.css" />
    <link rel="stylesheet" href="/css/sections/firmarSection.css" />
    <link rel="stylesheet" href="/css/sections/verificarSection.css" />
    <link rel="stylesheet" href="/css/sections/contactoSection.css" />
    <link rel="stylesheet" href="/css/sections/perfilSection.css" />
    <link rel="stylesheet" href="/css/sections/opcionesSection.css" />

    <link rel="stylesheet" href="/css/Header/headerStyle.css" />
    <link rel="stylesheet" href="/css/Header/hHamburguer_new.css" />

    <script src="/scripts/frontend/theme.js"></script>
  </head>
  <body style="visibility: hidden">
    <!-- Header con menú de autenticación -->
    <header>
      <div class="header-left">
        <a href="#inicio" class="logo-link">
          <img
            src="../recursos/logotipo-de-github.png"
            alt="Logo"
            class="logo-img"
          />
          <span id="tituloWeb">Firmas Digitales FD</span>
        </a>
      </div>
      <!-- Navegación movida al menú hamburguesa -->
      <div class="header-right">
        <ul id="authMenu">
          <li id="loginBtnLi"><a href="#" id="loginBtn">Iniciar Sesión</a></li>
          <li id="registerBtnLi">
            <a href="#" id="registerBtn">Registrarse</a>
          </li>
          <!-- Botón hamburguesa moderno -->
          <button
            id="headerMenuBtn"
            class="header-menu-btn"
            aria-label="Abrir menú de navegación"
            aria-expanded="false"
          >
            <span></span>
            <span></span>
            <span></span>
          </button>
        </ul>
      </div>
    </header>
    <!-- Menú móvil -->
    <nav id="headerMobileMenu" class="header-mobile-menu" aria-hidden="true">
      <ul id="mobileMenuList"></ul>
    </nav>
    <!-- Botón de ayuda flotante -->
    <button id="showTutorialBtn" title="Ver tutorial de uso">?</button>

    <!-- Modal de Tutorial de Uso -->
    <div id="tutorialModal" class="tutorial-modal">
      <div class="tutorial-modal-content">
        <h2>Guía de Prueba: Sistema de Firmas Digitales</h2>
        <div class="tutorial-intro">
          <p>
            <strong>¡Bienvenido al entorno de prueba!</strong> Sigue estos pasos
            para probar todas las funcionalidades del sistema:
          </p>
          <p>
            <strong>
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                style="
                  display: inline-block;
                  vertical-align: middle;
                  margin-right: 4px;
                "
              >
                <rect
                  x="3"
                  y="11"
                  width="18"
                  height="11"
                  rx="2"
                  ry="2"
                  stroke="currentColor"
                  stroke-width="2"
                />
                <circle
                  cx="12"
                  cy="16"
                  r="1"
                  stroke="currentColor"
                  stroke-width="2"
                />
                <path
                  d="M7 11V7a5 5 0 0 1 10 0v4"
                  stroke="currentColor"
                  stroke-width="2"
                />
              </svg>
              Seguridad garantizada:</strong
            >
            Todos los datos, archivos y llaves están protegidos con cifrado
            militar AES-256. Tu información está completamente segura.
          </p>
        </div>
        <ol>
          <li>
            <b>
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                style="
                  display: inline-block;
                  vertical-align: middle;
                  margin-right: 8px;
                "
              >
                <path
                  d="M17 3C17.2626 2.73735 17.5744 2.52901 17.9176 2.38687C18.2608 2.24473 18.6286 2.17157 19 2.17157C19.3714 2.17157 19.7392 2.24473 20.0824 2.38687C20.4256 2.52901 20.7374 2.73735 21 3C21.2626 3.26264 21.471 3.57444 21.6131 3.9176C21.7553 4.26077 21.8284 4.62856 21.8284 5C21.8284 5.37143 21.7553 5.73923 21.6131 6.08239C21.471 6.42555 21.2626 6.73735 21 7L7.5 20.5L2 22L3.5 16.5L17 3Z"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              Paso 1: Regístrate en el sistema
            </b>
            <div>
              Crea tu cuenta de usuario haciendo clic en "Iniciar Sesión" →
              "Regístrate aquí". Usa tus datos reales para la encuesta:
              <em
                >Nombre: Tu nombre y apellido completo, Usuario:
                tu_usuario_preferido</em
              >
              <br /><strong>
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  style="
                    display: inline-block;
                    vertical-align: middle;
                    margin-right: 4px;
                  "
                >
                  <rect
                    x="8"
                    y="2"
                    width="8"
                    height="4"
                    rx="1"
                    ry="1"
                    stroke="currentColor"
                    stroke-width="2"
                  />
                  <path
                    d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"
                    stroke="currentColor"
                    stroke-width="2"
                  />
                </svg>
                Importante:</strong
              >
              Usa tu nombre real para identificar quién realizó la prueba y
              evaluación del sistema.
            </div>
          </li>
          <li>
            <b>
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                style="
                  display: inline-block;
                  vertical-align: middle;
                  margin-right: 8px;
                "
              >
                <rect
                  x="3"
                  y="11"
                  width="18"
                  height="11"
                  rx="2"
                  ry="2"
                  stroke="currentColor"
                  stroke-width="2"
                />
                <circle
                  cx="12"
                  cy="16"
                  r="1"
                  stroke="currentColor"
                  stroke-width="2"
                />
                <path
                  d="M7 11V7a5 5 0 0 1 10 0v4"
                  stroke="currentColor"
                  stroke-width="2"
                />
              </svg>
              Paso 2: Genera tu primera llave digital
            </b>
            <div>
              Ve a la sección <strong>"Perfil"</strong> y genera tus llaves
              criptográficas. Usa una contraseña simple para prueba como
              <em>"1234"</em>. Tu primera llave se seleccionará automáticamente.
              <br /><strong>
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  style="
                    display: inline-block;
                    vertical-align: middle;
                    margin-right: 4px;
                  "
                >
                  <path
                    d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"
                    stroke="currentColor"
                    stroke-width="2"
                  />
                </svg>
                Seguridad:</strong
              >
              Todos los datos y archivos subidos están cifrados y protegidos. Tu
              información está segura en el sistema.
            </div>
          </li>
          <li>
            <b>
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                style="
                  display: inline-block;
                  vertical-align: middle;
                  margin-right: 8px;
                "
              >
                <path
                  d="M17 3C17.2626 2.73735 17.5744 2.52901 17.9176 2.38687C18.2608 2.24473 18.6286 2.17157 19 2.17157C19.3714 2.17157 19.7392 2.24473 20.0824 2.38687C20.4256 2.52901 20.7374 2.73735 21 3C21.2626 3.26264 21.471 3.57444 21.6131 3.9176C21.7553 4.26077 21.8284 4.62856 21.8284 5C21.8284 5.37143 21.7553 5.73923 21.6131 6.08239C21.471 6.42555 21.2626 6.73735 21 7L7.5 20.5L2 22L3.5 16.5L17 3Z"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              Paso 3: Firma un documento de prueba
            </b>
            <div>
              Ve a <strong>"Firmar"</strong> y sube cualquier archivo PDF de
              prueba. El sistema generará un documento firmado y avalado que
              podrás descargar.
            </div>
          </li>
          <li>
            <b>
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                style="
                  display: inline-block;
                  vertical-align: middle;
                  margin-right: 8px;
                "
              >
                <circle
                  cx="11"
                  cy="11"
                  r="8"
                  stroke="currentColor"
                  stroke-width="2"
                />
                <path
                  d="m21 21-4.35-4.35"
                  stroke="currentColor"
                  stroke-width="2"
                />
              </svg>
              Paso 4: Verifica tu propia firma
            </b>
            <div>
              Ve a <strong>"Verificar"</strong>, selecciona tu nombre como
              profesor, sube el PDF original y el firmado que acabas de crear.
              ¡Verifica que tu propia firma es válida!
            </div>
          </li>
          <li>
            <b>
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                style="
                  display: inline-block;
                  vertical-align: middle;
                  margin-right: 8px;
                "
              >
                <polyline
                  points="20,6 9,17 4,12"
                  stroke="currentColor"
                  stroke-width="2"
                />
              </svg>
              Paso 5: Valida el resultado
            </b>
            <div>
              El sistema te mostrará si la firma es válida, quién la hizo y
              cuándo. Esto demuestra la autenticidad e integridad del documento.
            </div>
          </li>
          <li>
            <b>
              <svg
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                style="
                  display: inline-block;
                  vertical-align: middle;
                  margin-right: 8px;
                "
              >
                <circle
                  cx="12"
                  cy="12"
                  r="3"
                  stroke="currentColor"
                  stroke-width="2"
                />
                <path
                  d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"
                  stroke="currentColor"
                  stroke-width="2"
                />
              </svg>
              Paso 6: Explora funciones adicionales
            </b>
            <div>
              Prueba crear múltiples llaves, cambiar tipos de cifrado, verificar
              documentos de otros usuarios, y gestionar tus llaves desde el
              perfil.
            </div>
          </li>
        </ol>
        <div class="tutorial-footer">
          <p>
            <strong>💡 Consejo:</strong> Este es un entorno de prueba seguro con
            cifrado avanzado. Experimenta libremente - todos tus datos están
            protegidos criptográficamente. <br /><strong>🔑 Privacidad:</strong>
            El sistema usa cifrado AES-256 para proteger archivos y llaves. Tus
            documentos y datos personales están completamente seguros.
          </p>
        </div>
        <button id="closeTutorialBtn" class="close-tutorial-btn">
          <svg
            class="btn-icon"
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
          >
            <path
              d="M22 11.08V12a10 10 0 1 1-5.93-9.14"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <polyline
              points="22,4 12,14.01 9,11.01"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          ¡Empezar a probar!
        </button>
      </div>
    </div>

    <!-- Modales de Autenticación -->
    <div id="loginModal" class="auth-modal">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Iniciar Sesión</h2>
        <form id="loginForm">
          <input type="text" id="loginUsuario" placeholder="Usuario" required />
          <input
            type="password"
            id="loginPassword"
            placeholder="Contraseña"
            required
          />
          <button type="submit">
            <svg
              class="btn-icon"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
            >
              <path
                d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <polyline
                points="10,17 15,12 10,7"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <line
                x1="15"
                y1="12"
                x2="3"
                y2="12"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Ingresar
          </button>
        </form>
        <p id="loginError" class="error-message"></p>
        <p>
          ¿No tienes cuenta?
          <a href="#" id="showRegister">Regístrate aquí</a>
        </p>
      </div>
    </div>

    <div id="registerModal" class="auth-modal">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Registrarse</h2>
        <form id="registerForm">
          <input
            type="text"
            id="registerNombre"
            placeholder="Nombre completo"
            required
          />
          <input
            type="text"
            id="registerUsuario"
            placeholder="Usuario"
            required
          />
          <input
            type="password"
            id="registerPassword"
            placeholder="Contraseña"
            required
          />
          <button type="submit">
            <svg
              class="btn-icon"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
            >
              <path
                d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <circle
                cx="8.5"
                cy="7"
                r="4"
                stroke="currentColor"
                stroke-width="2"
              />
              <line
                x1="20"
                y1="8"
                x2="20"
                y2="14"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <line
                x1="23"
                y1="11"
                x2="17"
                y2="11"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Crear cuenta
          </button>
        </form>
        <p id="registerError" class="error-message"></p>
        <p>¿Ya tienes cuenta? <a href="#" id="showLogin">Inicia sesión</a></p>
      </div>
    </div>

    <!-- Modal para seleccionar otra llave -->
    <div id="keySelectModal" class="modal" style="display: none">
      <div class="modal-content">
        <span id="closeKeySelectModal" class="close">&times;</span>
        <h3>Selecciona una llave para verificar</h3>
        <ul id="userKeysList"></ul>
        <div id="keyConfirmSection" style="display: none; margin-top: 16px">
          <p id="keyConfirmText"></p>
          <button id="confirmKeyBtn">
            <svg
              class="btn-icon"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
            >
              <path
                d="M20 6L9 17l-5-5"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Sí, usar esta llave
          </button>
          <button id="cancelKeyBtn" class="btn-secondary">
            <svg
              class="btn-icon"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
            >
              <path
                d="M18 6L6 18"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M6 6L18 18"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Cancelar
          </button>
        </div>
      </div>
    </div>

    <!-- Modal para contraseña de llave privada -->
    <div id="keyPasswordModal" class="auth-modal" style="display: none">
      <div class="modal-content">
        <span class="close-modal" id="closeKeyPasswordModal">&times;</span>
        <h2>Contraseña de la llave privada</h2>
        <form id="keyPasswordForm">
          <input
            type="password"
            id="keyPasswordInput"
            placeholder="Contraseña de la llave privada"
            required
            minlength="4"
          />
          <button type="submit" id="keyPasswordSubmitBtn">
            <svg
              class="btn-icon"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
            >
              <path
                d="M20 6L9 17l-5-5"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Aceptar
          </button>
        </form>
        <p id="keyPasswordError" style="color: red; display: none"></p>
      </div>
    </div>

    <!-- Modal para guiar creación de llaves -->
    <div id="createKeysGuideModal" class="auth-modal" style="display: none">
      <div class="modal-content">
        <h2>¡Bienvenido!</h2>
        <div class="modal-icon">
          <svg
            width="48"
            height="48"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect
              x="3"
              y="11"
              width="18"
              height="11"
              rx="2"
              ry="2"
              stroke="currentColor"
              stroke-width="2"
            />
            <circle
              cx="12"
              cy="16"
              r="1"
              stroke="currentColor"
              stroke-width="2"
            />
            <path
              d="M7 11V7a5 5 0 0 1 10 0v4"
              stroke="currentColor"
              stroke-width="2"
            />
          </svg>
        </div>
        <p class="modal-description">
          <strong
            >Para comenzar a usar el sistema de firmas digitales, necesitas
            crear tus llaves criptográficas.</strong
          >
        </p>
        <p class="modal-subdescription">
          Las llaves son necesarias para firmar y verificar documentos de forma
          segura.
        </p>
        <div class="modal-buttons">
          <button id="goToCreateKeysBtn">
            <svg
              class="btn-icon"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
            >
              <rect
                x="3"
                y="11"
                width="18"
                height="11"
                rx="2"
                ry="2"
                stroke="currentColor"
                stroke-width="2"
              />
              <circle
                cx="12"
                cy="16"
                r="1"
                stroke="currentColor"
                stroke-width="2"
              />
              <path
                d="M7 11V7a5 5 0 0 1 10 0v4"
                stroke="currentColor"
                stroke-width="2"
              />
            </svg>
            Ir a crear llaves
          </button>
          <button id="skipCreateKeysBtn" class="btn-secondary">
            <svg
              class="btn-icon"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
            >
              <path
                d="M18 6L6 18"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M6 6L18 18"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Recordar más tarde
          </button>
        </div>
      </div>
    </div>

    <!-- Modal para requerir autenticación para firmar -->
    <div id="signAuthRequiredModal" class="auth-modal" style="display: none">
      <div class="modal-content">
        <span class="close-modal" id="closeSignAuthModal">&times;</span>
        <h2 id="signAuthTitle">Autenticación Requerida</h2>
        <div class="modal-icon">
          <svg
            width="48"
            height="48"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect
              x="3"
              y="11"
              width="18"
              height="11"
              rx="2"
              ry="2"
              stroke="currentColor"
              stroke-width="2"
            />
            <circle
              cx="12"
              cy="16"
              r="1"
              stroke="currentColor"
              stroke-width="2"
            />
            <path
              d="M7 11V7a5 5 0 0 1 10 0v4"
              stroke="currentColor"
              stroke-width="2"
            />
          </svg>
        </div>
        <p class="modal-description" id="signAuthDescription">
          <strong
            >Para acceder a la sección de firmar documentos necesitas iniciar
            sesión.</strong
          >
        </p>
        <p class="modal-subdescription" id="signAuthSubdescription">
          La funcionalidad de firma requiere autenticación para garantizar la
          seguridad e identidad del firmante, protegiendo así la integridad del
          proceso criptográfico y la validez legal de las firmas digitales.
        </p>
        <div class="modal-buttons">
          <button id="signAuthLoginBtn">
            <svg
              class="btn-icon"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
            >
              <path
                d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <polyline
                points="10,17 15,12 10,7"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <line
                x1="15"
                y1="12"
                x2="3"
                y2="12"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Iniciar Sesión
          </button>
          <button id="signAuthRegisterBtn" class="btn-secondary">
            <svg
              class="btn-icon"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
            >
              <path
                d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <circle
                cx="8.5"
                cy="7"
                r="4"
                stroke="currentColor"
                stroke-width="2"
              />
              <line
                x1="20"
                y1="8"
                x2="20"
                y2="14"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <line
                x1="23"
                y1="11"
                x2="17"
                y2="11"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Registrarse
          </button>
        </div>
      </div>
    </div>

    <main class="content" role="main">
      <section id="inicioSection">
        <!-- Hero Section Principal -->
        <div class="hero-section">
          <div class="hero-content">
            <div class="hero-badge">
              <span class="badge-icon">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M12 2L14.09 8.26L22 9L16 14.74L17.18 21.02L12 18L6.82 21.02L8 14.74L2 9L9.91 8.26L12 2Z"
                    stroke="currentColor"
                    stroke-width="2"
                    fill="none"
                  />
                </svg>
              </span>
              <span class="badge-text"
                >Certificación Digital de Investigación</span
              >
            </div>
            <h1 class="hero-title">
              Firmas Digitales
              <span class="hero-highlight">Seguras y Confiables</span>
            </h1>
            <p class="hero-description">
              Plataforma profesional para la autenticación criptográfica de
              documentos de investigación. Protege la integridad de trabajos de
              investigación, proyectos científicos y documentos profesionales
              con tecnología de cifrado militar.
            </p>
            <div class="hero-buttons">
              <button
                class="hero-btn primary"
                onclick="handleSignDocumentClick()"
              >
                <span class="btn-icon">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M17 3C17.2626 2.73735 17.5744 2.52901 17.9176 2.38687C18.2608 2.24473 18.6286 2.17157 19 2.17157C19.3714 2.17157 19.7392 2.24473 20.0824 2.38687C20.4256 2.52901 20.7374 2.73735 21 3C21.2626 3.26264 21.471 3.57444 21.6131 3.9176C21.7553 4.26077 21.8284 4.62856 21.8284 5C21.8284 5.37143 21.7553 5.73923 21.6131 6.08239C21.471 6.42555 21.2626 6.73735 21 7L7.5 20.5L2 22L3.5 16.5L17 3Z"
                      stroke="white"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </span>
                Firmar Documento
              </button>
              <button
                class="hero-btn secondary"
                onclick="window.location.hash='verificar'"
              >
                <span class="btn-icon">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <circle
                      cx="11"
                      cy="11"
                      r="8"
                      stroke="white"
                      stroke-width="2"
                    />
                    <path
                      d="m21 21-4.35-4.35"
                      stroke="white"
                      stroke-width="2"
                    />
                  </svg>
                </span>
                Verificar Aval
              </button>
            </div>
            <div class="hero-stats">
              <div class="stat-item">
                <span class="stat-number">256-bit</span>
                <span class="stat-label">Cifrado AES</span>
              </div>
              <div class="stat-divider"></div>
              <div class="stat-item">
                <span class="stat-number">100%</span>
                <span class="stat-label">Seguro</span>
              </div>
              <div class="stat-divider"></div>
              <div class="stat-item">
                <span class="stat-number">RSA</span>
                <span class="stat-label">4096-bit</span>
              </div>
            </div>
          </div>
          <div class="hero-visual">
            <div class="floating-card">
              <div class="card-header">
                <span class="card-dot green"></span>
                <span class="card-dot yellow"></span>
                <span class="card-dot red"></span>
                <span class="card-title">documento_firmado.pdf</span>
              </div>
              <div class="card-content">
                <div class="signature-line">
                  <span class="sig-icon">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <rect
                        x="8"
                        y="2"
                        width="8"
                        height="4"
                        rx="1"
                        ry="1"
                        stroke="currentColor"
                        stroke-width="2"
                      />
                      <path
                        d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"
                        stroke="currentColor"
                        stroke-width="2"
                      />
                    </svg>
                  </span>
                  <span class="sig-text">Documento Original</span>
                  <span class="sig-status verified">
                    <svg
                      width="12"
                      height="12"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <polyline
                        points="20,6 9,17 4,12"
                        stroke="currentColor"
                        stroke-width="2"
                      />
                    </svg>
                  </span>
                </div>
                <div class="signature-line">
                  <span class="sig-icon">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <rect
                        x="3"
                        y="11"
                        width="18"
                        height="11"
                        rx="2"
                        ry="2"
                        stroke="currentColor"
                        stroke-width="2"
                      />
                      <circle
                        cx="12"
                        cy="16"
                        r="1"
                        stroke="currentColor"
                        stroke-width="2"
                      />
                      <path
                        d="M7 11V7a5 5 0 0 1 10 0v4"
                        stroke="currentColor"
                        stroke-width="2"
                      />
                    </svg>
                  </span>
                  <span class="sig-text">Firma Digital</span>
                  <span class="sig-status verified">
                    <svg
                      width="12"
                      height="12"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <polyline
                        points="20,6 9,17 4,12"
                        stroke="currentColor"
                        stroke-width="2"
                      />
                    </svg>
                  </span>
                </div>
                <div class="signature-line">
                  <span class="sig-icon">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"
                        stroke="currentColor"
                        stroke-width="2"
                      />
                    </svg>
                  </span>
                  <span class="sig-text">Cifrado AES-256</span>
                  <span class="sig-status verified">
                    <svg
                      width="12"
                      height="12"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <polyline
                        points="20,6 9,17 4,12"
                        stroke="currentColor"
                        stroke-width="2"
                      />
                    </svg>
                  </span>
                </div>
                <div class="signature-line">
                  <span class="sig-icon"></span>
                  <span class="sig-text">Verificación</span>
                  <span class="sig-status processing">
                    <svg
                      width="12"
                      height="12"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <circle
                        cx="12"
                        cy="12"
                        r="10"
                        stroke="currentColor"
                        stroke-width="2"
                      />
                      <polyline
                        points="12,6 12,12 16,14"
                        stroke="currentColor"
                        stroke-width="2"
                      />
                    </svg>
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Separador visual -->
        <div class="section-separator">
          <div class="separator-content">
            <div class="separator-dots">
              <span class="dot"></span>
              <span class="dot"></span>
              <span class="dot"></span>
            </div>
            <div class="separator-gradient-line"></div>
          </div>
        </div>

        <!-- Features Section -->
        <div class="features-section">
          <div class="section-header">
            <h2 class="section-title">¿Por qué elegir nuestro sistema?</h2>
            <p class="section-subtitle">
              Tecnología de vanguardia para la protección de documentos de
              investigación y trabajos científicos
            </p>
          </div>
          <div class="features-grid">
            <div class="feature-card">
              <div class="feature-icon-container">
                <span class="feature-icon">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <rect
                      x="3"
                      y="11"
                      width="18"
                      height="11"
                      rx="2"
                      ry="2"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                    <circle
                      cx="12"
                      cy="16"
                      r="1"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                    <path
                      d="M7 11V7a5 5 0 0 1 10 0v4"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                  </svg>
                </span>
                <div class="feature-icon-bg"></div>
              </div>
              <h3 class="feature-title">Máxima Seguridad</h3>
              <p class="feature-description">
                Cifrado militar AES-256 y llaves RSA de 4096 bits. Tus
                documentos están protegidos con la misma tecnología que usan
                bancos y gobiernos.
              </p>
              <div class="feature-tech">
                <span class="tech-badge">AES-256</span>
                <span class="tech-badge">RSA-4096</span>
              </div>
            </div>

            <div class="feature-card">
              <div class="feature-icon-container">
                <span class="feature-icon">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <circle
                      cx="11"
                      cy="11"
                      r="8"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                    <path
                      d="m21 21-4.35-4.35"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                  </svg>
                </span>
                <div class="feature-icon-bg"></div>
              </div>
              <h3 class="feature-title">Verificación Instantánea</h3>
              <p class="feature-description">
                Valida la autenticidad de cualquier documento en segundos.
                Detecta alteraciones y confirma la identidad del firmante de
                forma automática.
              </p>
              <div class="feature-tech">
                <span class="tech-badge">Tiempo Real</span>
                <span class="tech-badge">Automático</span>
              </div>
            </div>

            <div class="feature-card">
              <div class="feature-icon-container">
                <span class="feature-icon">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                    <line
                      x1="3"
                      y1="6"
                      x2="21"
                      y2="6"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                    <path
                      d="M16 10a4 4 0 0 1-8 0"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                  </svg>
                </span>
                <div class="feature-icon-bg"></div>
              </div>
              <h3 class="feature-title">Enfoque Investigativo</h3>
              <p class="feature-description">
                Diseñado para la comunidad científica e investigativa. Protege
                trabajos de investigación, estudios, papers, tesis y documentos
                de investigación profesional.
              </p>
              <div class="feature-tech">
                <span class="tech-badge">Investigativo</span>
                <span class="tech-badge">Científico</span>
              </div>
            </div>

            <div class="feature-card">
              <div class="feature-icon-container">
                <span class="feature-icon">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                    <path
                      d="M9 12l2 2 4-4"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                  </svg>
                </span>
                <div class="feature-icon-bg"></div>
              </div>
              <h3 class="feature-title">Validez Legal</h3>
              <p class="feature-description">
                Firmas digitales con validez jurídica completa. Cumple con
                estándares internacionales y normativas de autenticación
                digital.
              </p>
              <div class="feature-tech">
                <span class="tech-badge">Legal</span>
                <span class="tech-badge">Internacional</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Separador visual -->
        <div class="section-separator">
          <div class="separator-content">
            <div class="separator-dots">
              <span class="dot"></span>
              <span class="dot"></span>
              <span class="dot"></span>
            </div>
            <div class="separator-gradient-line"></div>
          </div>
        </div>

        <!-- Process Section -->
        <div class="process-section">
          <div class="section-header">
            <h2 class="section-title">Proceso Simple y Seguro</h2>
            <p class="section-subtitle">
              En solo 3 pasos, protege tus documentos con tecnología de
              vanguardia
            </p>
          </div>
          <div class="process-steps">
            <div class="process-step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h3 class="step-title">Genera tus Llaves</h3>
                <p class="step-description">
                  Crea tu par de llaves criptográficas únicas. Una llave privada
                  (solo tuya) y una pública para verificación.
                </p>
              </div>
            </div>

            <div class="process-arrow">
              <svg width="60" height="20" viewBox="0 0 60 20">
                <path
                  d="M5 10 L50 10 M45 5 L50 10 L45 15"
                  stroke="var(--primary-color)"
                  stroke-width="2"
                  fill="none"
                  stroke-linecap="round"
                />
              </svg>
            </div>

            <div class="process-step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h3 class="step-title">Firma el Documento</h3>
                <p class="step-description">
                  Sube tu PDF y aplica tu firma digital. El sistema genera un
                  hash único y lo cifra con tu llave privada.
                </p>
              </div>
            </div>

            <div class="process-arrow">
              <svg width="60" height="20" viewBox="0 0 60 20">
                <path
                  d="M5 10 L50 10 M45 5 L50 10 L45 15"
                  stroke="var(--primary-color)"
                  stroke-width="2"
                  fill="none"
                  stroke-linecap="round"
                />
              </svg>
            </div>

            <div class="process-step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h3 class="step-title">Verifica y Avala</h3>
                <p class="step-description">
                  Cualquiera puede verificar la autenticidad usando tu llave
                  pública. El documento queda avalado y protegido contra
                  alteraciones.
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- CTA Section -->
        <div class="cta-section">
          <div class="cta-content">
            <h2 class="cta-title">¿Listo para proteger tus documentos?</h2>
            <p class="cta-description">
              Únete a la nueva era de la certificación digital de investigación.
              Comienza a usar firmas digitales profesionales hoy mismo.
            </p>
            <div class="cta-buttons">
              <button
                class="cta-btn primary"
                onclick="handleSignDocumentClick()"
              >
                <span class="btn-icon">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M17 3C17.2626 2.73735 17.5744 2.52901 17.9176 2.38687C18.2608 2.24473 18.6286 2.17157 19 2.17157C19.3714 2.17157 19.7392 2.24473 20.0824 2.38687C20.4256 2.52901 20.7374 2.73735 21 3C21.2626 3.26264 21.471 3.57444 21.6131 3.9176C21.7553 4.26077 21.8284 4.62856 21.8284 5C21.8284 5.37143 21.7553 5.73923 21.6131 6.08239C21.471 6.42555 21.2626 6.73735 21 7L7.5 20.5L2 22L3.5 16.5L17 3Z"
                      stroke="white"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </span>
                Firmar Documento
              </button>
              <button
                class="cta-btn secondary"
                onclick="handleCreateKeysClick()"
              >
                <span class="btn-icon">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <rect
                      x="3"
                      y="11"
                      width="18"
                      height="11"
                      rx="2"
                      ry="2"
                      stroke="white"
                      stroke-width="2"
                    />
                    <circle
                      cx="12"
                      cy="16"
                      r="1"
                      stroke="white"
                      stroke-width="2"
                    />
                    <path
                      d="M7 11V7a5 5 0 0 1 10 0v4"
                      stroke="white"
                      stroke-width="2"
                    />
                  </svg>
                </span>
                Crear Llaves
              </button>
            </div>
          </div>
        </div>
      </section>

      <section id="firmarSection">
        <h2>Firmar Documento</h2>
        <p class="section-desc">
          Sube tu archivo PDF para firmarlo digitalmente y obtener un aval que
          garantiza su autenticidad e integridad.
        </p>
        <div id="signStepIndicator" class="step-indicator">
          <div class="step active" data-step="1" data-label="Seleccionar"></div>
          <div class="step" data-step="2" data-label="Firmar"></div>
          <div class="step" data-step="3" data-label="Descargar"></div>
        </div>

        <div id="signStep1" class="step-content">
          <!-- Firmar -->
          <form id="signForm">
            <p class="input-title">Selecciona el documento PDF a firmar:</p>
            <div class="file-input-container">
              <div class="file-input-wrapper">
                <input
                  type="file"
                  id="fileInput"
                  class="file-input"
                  accept=".pdf"
                  aria-label="Seleccionar archivo PDF"
                  required
                />
                <label for="fileInput" class="file-input-label">
                  <svg
                    class="file-input-icon"
                    width="32"
                    height="32"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <polyline
                      points="7,10 12,15 17,10"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <line
                      x1="12"
                      y1="15"
                      x2="12"
                      y2="3"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                    />
                  </svg>
                  <span class="file-input-text"
                    >Ningún archivo seleccionado</span
                  >
                  <span class="file-input-button">Elegir archivo</span>
                </label>
              </div>
            </div>
            <button type="button" id="acceptDocumentBtn">
              <svg
                class="btn-icon"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              Aceptar documento
            </button>
          </form>
        </div>

        <!-- Paso 2: Firmar -->
        <div id="signStep2" class="step-content" style="display: none">
          <div class="key-selection-container">
            <h3>Selecciona la llave para firmar:</h3>
            <div id="keysList" class="keys-list">
              <div class="loading-keys">
                <span class="small-loader"></span>
                <span>Cargando llaves...</span>
              </div>
            </div>
          </div>
          <div class="loader-container">
            <button
              id="signDocumentButton"
              class="btn btn-primary"
              style="display: none"
            >
              <svg
                class="btn-icon"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              Firmar documento
            </button>
            <div id="signLoading" style="display: none">
              <span class="loader"></span>
              <div class="loader-text">Firmando documento...</div>
            </div>
          </div>
        </div>

        <div id="signStep3" class="step-content" style="display: none">
          <p>Documento firmado correctamente</p>
          <div class="success-buttons-container">
            <button id="downloadSignedBtn">
              <svg
                class="btn-icon"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  d="M12 15.577l-3.539-3.538.707-.707L11.5 13.664V2h1v11.664l2.332-2.332.707.707L12 15.577z"
                  fill="currentColor"
                />
                <path d="M4 17h16v2H4v-2z" fill="currentColor" />
              </svg>
              Descargar documento avalado
            </button>
            <button id="goToVerifyBtn" class="btn-secondary">
              Ir a verificar
              <svg
                class="btn-icon-right"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  d="M8.5 5l7 7-7 7"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </div>
          <button
            id="restartSignProcessBtn"
            class="btn btn-secondary"
            style="display: none"
          >
            <svg
              class="btn-icon"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
            >
              <path
                d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4m-4 4a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Volver a empezar
          </button>
        </div>
      </section>

      <!-- Sección de Verificar con diseño moderno -->
      <section id="verifySection">
        <h2>Verificar Aval</h2>
        <p class="section-desc">
          Verifica la autenticidad y la integridad de un documento PDF avalado
          digitalmente por un profesor o tutor.
        </p>

        <!-- Indicador de pasos moderno -->
        <div id="verifyStepIndicator" class="step-indicator">
          <div class="step active" data-step="1" data-label="Profesor"></div>
          <div class="step" data-step="2" data-label="Aval firmado"></div>
          <div class="step" data-step="3" data-label="Original"></div>
          <div class="step" data-step="4" data-label="Resultado"></div>
        </div>

        <!-- Paso 1: Selección de profesor -->
        <div id="verifyStep1" class="step-content">
          <div class="input-title">
            Selecciona el profesor o tutor que firmó el documento
          </div>

          <!-- Opción de detección automática -->
          <div class="auto-detect-container">
            <h4>
              <svg
                class="section-icon"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <circle
                  cx="11"
                  cy="11"
                  r="8"
                  stroke="currentColor"
                  stroke-width="2"
                />
                <path
                  d="m21 21-4.35-4.35"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              Detección Automática
            </h4>
            <p class="auto-detect-description">
              Sube el documento firmado para detectar automáticamente quién lo
              firmó
            </p>
            <div class="file-input-container">
              <div class="file-input-wrapper">
                <input
                  type="file"
                  id="autoDetectFile"
                  accept=".pdf"
                  class="file-input"
                  aria-label="Seleccionar archivo PDF firmado para detección automática"
                />
                <label for="autoDetectFile" class="file-input-label">
                  <span class="file-input-icon">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2Z"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <polyline
                        points="14,2 14,8 20,8"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </span>
                  <span class="file-input-text">Subir documento firmado</span>
                  <span class="file-input-button">Detectar firmante</span>
                </label>
              </div>
            </div>
            <div
              id="autoDetectResult"
              class="auto-detect-result"
              style="display: none"
            >
              <!-- Resultado de la detección automática -->
            </div>
          </div>

          <!-- Separador -->
          <div class="option-separator">
            <div class="separator-line"></div>
            <span class="separator-text">O selecciona manualmente</span>
            <div class="separator-line"></div>
          </div>

          <form id="verifyProfesorForm">
            <!-- Sistema de búsqueda y filtrado de profesores -->
            <div class="professor-search-container">
              <div class="search-controls">
                <div class="search-input-wrapper">
                  <input
                    type="text"
                    id="professorSearchInput"
                    placeholder="Buscar profesor por nombre..."
                    class="search-input"
                  />
                  <span class="search-icon">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <circle
                        cx="11"
                        cy="11"
                        r="8"
                        stroke="#9CA3AF"
                        stroke-width="2"
                      />
                      <path
                        d="m21 21-4.35-4.35"
                        stroke="#9CA3AF"
                        stroke-width="2"
                        stroke-linecap="round"
                      />
                    </svg>
                  </span>
                </div>
                <div class="filter-controls">
                  <select id="sortOrder" class="sort-select">
                    <option value="asc">A-Z</option>
                    <option value="desc">Z-A</option>
                  </select>
                  <button
                    type="button"
                    id="clearSearch"
                    class="clear-btn"
                    title="Limpiar búsqueda"
                  >
                    ×
                  </button>
                </div>
              </div>

              <!-- Lista de profesores -->
              <div class="professors-list" id="professorsList">
                <div class="loading-professors">
                  <span class="loader-small"></span>
                  <span>Cargando profesores...</span>
                </div>
              </div>

              <!-- Profesor seleccionado -->
              <div
                class="selected-professor"
                id="selectedProfessor"
                style="display: none"
              >
                <div class="selected-label">Profesor seleccionado:</div>
                <div class="selected-info">
                  <span class="selected-name" id="selectedProfessorName"></span>
                  <button
                    type="button"
                    id="changeProfessor"
                    class="change-btn-circular"
                    title="Cambiar profesor"
                  >
                    <img src="recursos/cambiar.png" alt="Cambiar" />
                  </button>
                </div>
              </div>
            </div>

            <button
              type="button"
              id="acceptProfesorBtn"
              class="btn-primary"
              disabled
            >
              Continuar
              <svg
                class="btn-icon-right"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  d="M8.5 5l7 7-7 7"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </form>
        </div>

        <!-- Paso 2: Selección de archivo avalado -->
        <div id="verifyStep2" class="step-content" style="display: none">
          <div class="input-title">
            Selecciona el archivo avalado (PDF firmado)
          </div>
          <form id="verifyAvalForm">
            <div class="file-input-container">
              <div class="file-input-wrapper">
                <input
                  type="file"
                  id="signedFile"
                  accept=".pdf"
                  class="file-input"
                  aria-label="Seleccionar archivo PDF firmado"
                  required
                />
                <label for="signedFile" class="file-input-label">
                  <span class="file-input-icon">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2Z"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <polyline
                        points="14,2 14,8 20,8"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </span>
                  <span class="file-input-text"
                    >Ningún archivo seleccionado</span
                  >
                  <span class="file-input-button">Elegir archivo</span>
                </label>
              </div>
            </div>
            <button type="button" id="acceptAvalBtn" class="btn-primary">
              Continuar
              <svg
                class="btn-icon-right"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  d="M8.5 5l7 7-7 7"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </form>
        </div>

        <!-- Paso 3: Selección de archivo original -->
        <div id="verifyStep3" class="step-content" style="display: none">
          <div class="input-title">Selecciona el archivo original (PDF)</div>
          <form id="verifyOriginalForm">
            <div class="file-input-container">
              <div class="file-input-wrapper">
                <input
                  type="file"
                  id="originalFile"
                  accept=".pdf"
                  class="file-input"
                  aria-label="Seleccionar archivo PDF original"
                  required
                />
                <label for="originalFile" class="file-input-label">
                  <span class="file-input-icon">
                    <svg
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2Z"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                      <polyline
                        points="14,2 14,8 20,8"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </span>
                  <span class="file-input-text"
                    >Ningún archivo seleccionado</span
                  >
                  <span class="file-input-button">Elegir archivo</span>
                </label>
              </div>
            </div>
            <button type="button" id="acceptOriginalBtn" class="btn-success">
              <svg
                class="btn-icon"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
              >
                <path
                  d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              Verificar documento
            </button>
          </form>
        </div>

        <!-- Paso 4: Resultado de verificación -->
        <div id="verifyStep4" class="step-content" style="display: none">
          <div id="verificationResult"></div>
          <div
            style="
              margin-top: 20px;
              display: flex;
              flex-direction: column;
              gap: 12px;
              align-items: center;
            "
          >
            <!-- Primera fila: Verificar otro documento y Intentar con otro profesor -->
            <div class="button-group">
              <button id="continueVerifyBtn" style="display: none">
                <svg
                  class="btn-icon"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                >
                  <path
                    d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                Verificar otro documento
              </button>
              <button
                id="retryKeyBtn"
                class="btn-warning"
                style="display: none"
              >
                <svg
                  class="btn-icon"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                >
                  <path
                    d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2m0-2v4h8V2"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M9 9l2 2 4-4"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                Intentar con otro profesor
              </button>
            </div>
            <!-- Segunda fila: Volver a empezar (centrado) -->
            <div class="button-group">
              <button
                id="restartVerifyProcessBtn"
                class="btn-secondary"
                style="display: none"
              >
                <svg
                  class="btn-icon"
                  width="16"
                  height="16"
                  viewBox="0 0 24 24"
                  fill="none"
                >
                  <path
                    d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4m-4 4a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                Volver a empezar
              </button>
            </div>
          </div>
        </div>
      </section>

      <section id="perfilSection">
        <h2>Perfil</h2>
        <p class="section-desc">
          Bienvenido a tu perfil. Aquí puedes gestionar tus llaves digitales y
          personalizar tu cuenta de usuario.
        </p>
        <div class="perfil-panel">
          <aside class="perfil-menu">
            <ul>
              <li class="perfil-tab active" data-tab="cifrado">
                Configuración de cifrado
              </li>
              <li class="perfil-tab" data-tab="llaves">Lista de llaves</li>
            </ul>
          </aside>
          <div class="perfil-content">
            <!-- Tab: Configuración de cifrado -->
            <div class="perfil-tab-content active" id="perfilTab-cifrado">
              <div id="encryptionConfigContainer">
                <h3>
                  <span class="icon-lock"></span> Configuración de cifrado de
                  llaves
                </h3>
                <p>
                  Selecciona el tipo de cifrado para proteger tus llaves
                  privadas. <br />
                  <span class="info"
                    >Recomendamos <b>AES-256-CBC</b> para máxima
                    seguridad.</span
                  >
                </p>
                <div class="encryption-select-group">
                  <label for="encryptionTypeSelect" class="encryption-label"
                    >Tipo de cifrado:</label
                  >
                  <select id="encryptionTypeSelect" class="encryption-select">
                    <option value="aes-256-cbc">
                      AES-256-CBC (Recomendado)
                    </option>
                    <option value="aes-192-cbc">AES-192-CBC</option>
                    <option value="aes-128-cbc">AES-128-CBC</option>
                  </select>
                  <button id="confirmEncryptionTypeBtn" class="btn-primary">
                    <svg
                      class="btn-icon"
                      width="16"
                      height="16"
                      viewBox="0 0 24 24"
                      fill="none"
                    >
                      <path
                        d="M20 6L9 17l-5-5"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                    Guardar
                  </button>
                </div>
                <p id="encryptionTypeMsg" class="encryption-msg">
                  <!-- Mensaje dinámico -->
                </p>
              </div>
            </div>
            <!-- Tab: Lista de llaves -->
            <div class="perfil-tab-content" id="perfilTab-llaves">
              <div id="keysListContainer">
                <h3><span class="icon-key"></span> Tus llaves digitales</h3>
                <p class="info">
                  Aquí puedes ver, generar o eliminar tus llaves. Mantén tu
                  llave privada segura.
                </p>

                <!-- Campo para nombrar la nueva llave -->
                <div class="key-name-form">
                  <label for="keyNameInput"> Nombre de la nueva llave: </label>
                  <input
                    type="text"
                    id="keyNameInput"
                    placeholder="Ej: Llave para tesis, Llave personal... (opcional)"
                  />
                  <small class="help-text">
                    Si se deja vacío, se asignará automáticamente (Key1, Key2,
                    etc.)
                  </small>
                </div>

                <button id="generateKeysButton" class="btn-secondary">
                  <svg
                    class="btn-icon"
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                  >
                    <circle
                      cx="12"
                      cy="12"
                      r="10"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                    <line
                      x1="12"
                      y1="8"
                      x2="12"
                      y2="16"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                    <line
                      x1="8"
                      y1="12"
                      x2="16"
                      y2="12"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                  </svg>
                  Generar nueva llave
                </button>
                <ul id="profileKeysList" class="keys-list">
                  <!-- Las llaves del usuario se cargarán aquí dinámicamente -->
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="contactoSection">
        <h2>Contacto</h2>
        <p class="section-desc">
          Si tienes preguntas o necesitas ayuda, contáctanos.
        </p>
        <form id="contactForm">
          <label for="name">Nombre:</label>
          <input type="text" id="name" name="name" required />

          <label for="email">Correo Electrónico:</label>
          <input type="email" id="email" name="email" required />

          <label for="message">Mensaje:</label>
          <textarea id="message" name="message" required></textarea>

          <button type="submit">
            <svg
              class="btn-icon"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
            >
              <path
                d="M22 2L11 13"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M22 2L15 22l-4-9-9-4 18-7z"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Enviar
          </button>
        </form>
        <p
          id="contactMessage"
          style="display: none; color: green; margin: 25px"
        >
          Mensaje enviado correctamente. Nos pondremos en contacto contigo
          pronto.
        </p>
      </section>

      <section id="opcionesSection">
        <h2>Opciones de Personalización</h2>
        <form id="configForm">
          <!-- Cambiar logo -->
          <label for="logoUpload">Subir Logo:</label>
          <div class="input-inline">
            <div style="width: 100%; max-width: 350px">
              <label class="file">
                <input
                  type="file"
                  id="logoUpload"
                  name="logoUpload"
                  accept="image/*"
                  class="custom-file-input"
                  aria-label="Subir logo"
                />
                <span class="file-custom">Ningún archivo seleccionado</span>
              </label>
              <button type="button" id="removeLogoBtn" title="Quitar logo">
                X
              </button>
            </div>
          </div>
          <img
            id="logoPreview"
            style="display: none; max-height: 100px; margin-top: 10px"
          />

          <!-- Cambiar fondo del contenido -->
          <label for="contentBgFile">Fondo del contenido (imagen):</label>
          <div class="input-inline">
            <div style="width: 100%; max-width: 350px">
              <label class="file">
                <input
                  type="file"
                  id="contentBgFile"
                  accept="image/*"
                  class="custom-file-input"
                  aria-label="Subir fondo"
                />
                <span class="file-custom">Ningún archivo seleccionado</span>
              </label>
              <button
                type="button"
                id="removeContentBgBtn"
                title="Quitar fondo"
              >
                X
              </button>
            </div>
          </div>

          <!-- Cambiar título de la página -->
          <label for="pageTitle">Título de la Página:</label>
          <input
            type="text"
            id="pageTitle"
            name="title"
            placeholder="Nuevo título"
          />

          <!-- Cambiar colores -->
          <label for="primaryColor">Color Primario:</label>
          <input
            type="color"
            id="primaryColor"
            name="primaryColor"
            value="#ed700f"
          />

          <label for="secondaryColor">Color Secundario:</label>
          <input
            type="color"
            id="secondaryColor"
            name="secondaryColor"
            value="#333333"
          />

          <!-- Cambiar footer -->
          <label for="footerText">Texto del Footer:</label>
          <input
            type="text"
            id="footerText"
            name="footer"
            placeholder="Nuevo texto del footer"
          />

          <button type="submit">
            <svg
              class="btn-icon"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
            >
              <path
                d="M20 6L9 17l-5-5"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            Guardar Cambios
          </button>
        </form>
      </section>
    </main>

    <!-- Modal de confirmación para navegación -->
    <div id="navigationConfirmModal" class="navigation-confirm-modal">
      <div class="navigation-confirm-content">
        <span class="navigation-confirm-icon">
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"
              stroke="currentColor"
              stroke-width="2"
            />
            <line
              x1="12"
              y1="9"
              x2="12"
              y2="13"
              stroke="currentColor"
              stroke-width="2"
            />
            <line
              x1="12"
              y1="17"
              x2="12.01"
              y2="17"
              stroke="currentColor"
              stroke-width="2"
            />
          </svg>
        </span>
        <h3 class="navigation-confirm-title">¿Estás seguro?</h3>
        <p class="navigation-confirm-message">
          Tienes un proceso en curso. Si continúas, perderás todos los cambios
          no guardados.
        </p>
        <div class="navigation-confirm-buttons">
          <button
            id="confirmNavigationBtn"
            class="navigation-confirm-btn primary"
          >
            Sí, continuar
          </button>
          <button
            id="cancelNavigationBtn"
            class="navigation-confirm-btn secondary"
          >
            Cancelar
          </button>
        </div>
      </div>
    </div>

    <footer class="fixed_footer">
      <p>&copy; 2025 Firmas Digitales FD. Todos los derechos reservados.</p>
    </footer>

    <!-- Scripts de frontend -->
    <script src="/scripts/frontend/auth.frontend.js"></script>
    <script src="/scripts/frontend/keys.frontend.js"></script>
    <script src="/scripts/frontend/config.js"></script>
    <script src="/scripts/frontend/userKeysModal.js"></script>
    <script src="/scripts/frontend/keyPassword.frontend.js"></script>
    <script src="/scripts/frontend/signSteps.js"></script>
    <script src="/scripts/frontend/verifySteps.js"></script>
    <script src="/scripts/frontend/frontend.js" type="module"></script>
    <script src="/scripts/frontend/profileEncryption.frontend.js"></script>
    <!-- <script src="/scripts/frontend/headerResponsive.frontend.js"></script> -->
    <script src="/scripts/frontend/mobileHamburger.frontend.js"></script>
    <script src="/scripts/utils/tutorial.js"></script>
  </body>
</html>
